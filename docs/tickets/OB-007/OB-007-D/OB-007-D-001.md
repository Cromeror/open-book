# OB-007-D-001: Crear endpoint de mis aportes

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-007 - Aportes Reales |
| Story | OB-007-D - Visualizacion de aportes para residentes |
| Status | pending |
| Priority | high |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, api, residentes |
| Depends on | OB-007-A-002 |
| Assigned | unassigned |

## Descripcion

Crear endpoint que liste todos los aportes realizados por el apartamento del residente autenticado.

## Contexto Tecnico

### Archivos afectados
- `src/api/routes/residentes.routes.ts`
- `src/api/controllers/residentes.controller.ts`
- `src/services/aporte.service.ts`

### Enfoque tecnico
Filtrar automaticamente por apartamento del usuario. Incluir informacion de actividad y objetivo asociados.

## Criterios de Aceptacion

- [ ] GET /api/mis-aportes implementado
- [ ] Filtra por apartamento del residente
- [ ] Ordenado por fecha descendente (mas reciente primero)
- [ ] Incluye actividad y objetivo de cada aporte
- [ ] Paginacion para historiales largos
- [ ] Filtros opcionales: actividad, estado, fechas

## Notas de Implementacion

Endpoint:
```
GET /api/mis-aportes?page=1&limit=20&estado=CONFIRMADO
Authorization: Bearer <token-residente>
```

Response:
```json
{
  "apartamento": {
    "id": "uuid",
    "numero": "101",
    "torre": "Torre A"
  },
  "resumen": {
    "totalAportado": "350000.00",
    "cantidadAportes": 7
  },
  "aportes": [
    {
      "id": "uuid",
      "monto": "50000.00",
      "fechaAporte": "2025-02-15T00:00:00Z",
      "medioPago": "EFECTIVO",
      "estado": "CONFIRMADO",
      "tieneComprobante": true,
      "actividad": {
        "id": "uuid",
        "nombre": "Rifa electrodomesticos",
        "objetivo": {
          "nombre": "Reparacion ascensores"
        }
      },
      "compromiso": {
        "montoComprometido": "100000.00",
        "porcentajeCumplido": 50
      }
    }
  ],
  "pagination": {
    "total": 15,
    "page": 1,
    "limit": 20
  }
}
```

## Testing

- [ ] Solo retorna aportes del apartamento
- [ ] Ordenamiento por fecha funciona
- [ ] Paginacion funciona
- [ ] Filtros funcionan
- [ ] Resumen es correcto
