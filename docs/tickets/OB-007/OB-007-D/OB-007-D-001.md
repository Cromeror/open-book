# OB-007-D-001: Crear endpoint de mis aportes

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-007 - Aportes Reales |
| Story | OB-007-D - Visualizacion de aportes para residentes |
| Status | pending |
| Priority | high |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, api, residentes |
| Depends on | OB-007-A-002 |
| Assigned | unassigned |

## Descripcion

Crear endpoint que liste todos los aportes realizados por el apartamento del residente autenticado.

## Contexto Tecnico

### Archivos afectados
- `src/api/routes/residents.routes.ts`
- `src/api/controllers/residents.controller.ts`
- `src/services/contribution.service.ts`

### Enfoque tecnico
Filtrar automaticamente por apartamento del usuario. Incluir informacion de actividad y objetivo asociados.

## Criterios de Aceptacion

- [ ] GET /api/my-contributions implementado
- [ ] Filtra por apartamento del residente
- [ ] Ordenado por fecha descendente (mas reciente primero)
- [ ] Incluye actividad y objetivo de cada aporte
- [ ] Paginacion para historiales largos
- [ ] Filtros opcionales: actividad, estado, fechas

## Notas de Implementacion

Endpoint:
```
GET /api/my-contributions?page=1&limit=20&status=CONFIRMED
Authorization: Bearer <token-resident>
```

Response:
```json
{
  "apartment": {
    "id": "uuid",
    "number": "101",
    "tower": "Tower A"
  },
  "summary": {
    "totalContributed": "350000.00",
    "contributionCount": 7
  },
  "contributions": [
    {
      "id": "uuid",
      "amount": "50000.00",
      "contributionDate": "2025-02-15T00:00:00Z",
      "paymentMethod": "CASH",
      "status": "CONFIRMED",
      "hasReceipt": true,
      "activity": {
        "id": "uuid",
        "name": "Rifa electrodomesticos",
        "objective": {
          "name": "Reparacion ascensores"
        }
      },
      "pledge": {
        "pledgedAmount": "100000.00",
        "fulfilledPercentage": 50
      }
    }
  ],
  "pagination": {
    "total": 15,
    "page": 1,
    "limit": 20
  }
}
```

## Testing

- [ ] Solo retorna aportes del apartamento
- [ ] Ordenamiento por fecha funciona
- [ ] Paginacion funciona
- [ ] Filtros funcionan
- [ ] Resumen es correcto
