# OB-005-C-001: Crear endpoint de actividades para residentes

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-005 - Actividades de Recaudo |
| Story | OB-005-C - Visualizacion de actividades para residentes |
| Status | pending |
| Priority | medium |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, api, residentes |
| Depends on | OB-005-A-002 |
| Assigned | unassigned |

## Descripcion

Crear endpoint optimizado para que residentes vean las actividades activas en los objetivos de su copropiedad, agrupadas por objetivo.

## Contexto Tecnico

### Archivos afectados
- `src/api/routes/residentes.routes.ts`
- `src/api/controllers/residentes.controller.ts`
- `src/services/actividad.service.ts`

### Enfoque tecnico
Endpoint que lista actividades activas agrupadas por objetivo activo de la copropiedad del residente.

## Criterios de Aceptacion

- [ ] GET /api/mis-actividades implementado
- [ ] Filtra por copropiedad del residente automaticamente
- [ ] Solo muestra actividades en estado ACTIVA
- [ ] Agrupa actividades por objetivo
- [ ] Incluye progreso si la actividad tiene meta

## Notas de Implementacion

Endpoint:
```
GET /api/mis-actividades
Authorization: Bearer <token-residente>
```

Response:
```json
{
  "objetivos": [
    {
      "id": "uuid",
      "nombre": "Reparacion ascensores",
      "actividades": [
        {
          "id": "uuid",
          "nombre": "Rifa electrodomesticos",
          "tipo": "RIFA",
          "descripcion": "...",
          "configuracion": {
            "precioBoleta": 10000
          },
          "metaActividad": "5000000.00",
          "progreso": {
            "recaudado": "2500000.00",
            "porcentaje": 50
          },
          "fechaInicio": "2025-02-15",
          "fechaFin": "2025-04-15"
        }
      ]
    }
  ]
}
```

## Testing

- [ ] Solo retorna actividades de la copropiedad del residente
- [ ] Solo incluye actividades ACTIVAS
- [ ] Progreso se calcula correctamente
- [ ] Sin apartamento asociado retorna error 403
