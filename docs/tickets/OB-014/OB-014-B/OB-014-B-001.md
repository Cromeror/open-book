# OB-014-B-001: Crear AdminLayout con sidebar y header

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-014 - Configuracion de Vistas por Rol de Usuario |
| Story | OB-014-B - Layout y navegacion para administradores |
| Status | pending |
| Priority | high |
| Created | 2026-01-05 |
| Updated | 2026-01-05 |
| Labels | task, frontend, layout, admin |
| Depends on | OB-014-A-001 |
| Assigned | unassigned |

## Descripcion

Crear el componente de layout principal para la seccion de administracion, con sidebar lateral y header superior.

## Contexto Tecnico

### Archivos afectados
- `apps/web/src/components/layouts/AdminLayout.tsx`
- `apps/web/src/app/(admin)/layout.tsx`

### Enfoque tecnico
Layout con CSS Grid/Flexbox. Sidebar fijo a la izquierda, header en la parte superior, contenido principal con scroll.

## Criterios de Aceptacion

- [ ] Sidebar de 250px colapsable a 60px
- [ ] Header con logo, titulo y menu de usuario
- [ ] Area de contenido principal con padding
- [ ] Estado de sidebar (expandido/colapsado) persistente
- [ ] Responsive: sidebar drawer en mobile

## Notas de Implementacion

```typescript
// components/layouts/AdminLayout.tsx
'use client';

import { useState } from 'react';
import { AdminNav } from '@/components/navigation/AdminNav';
import { AdminHeader } from '@/components/navigation/AdminHeader';

interface AdminLayoutProps {
  children: React.ReactNode;
}

export function AdminLayout({ children }: AdminLayoutProps) {
  const [sidebarOpen, setSidebarOpen] = useState(true);

  return (
    <div className="min-h-screen bg-gray-100">
      {/* Sidebar */}
      <aside className={`fixed left-0 top-0 h-full bg-gray-900 transition-all duration-300 ${
        sidebarOpen ? 'w-64' : 'w-16'
      }`}>
        <AdminNav collapsed={!sidebarOpen} />
      </aside>

      {/* Main content */}
      <div className={`transition-all duration-300 ${sidebarOpen ? 'ml-64' : 'ml-16'}`}>
        <AdminHeader
          onToggleSidebar={() => setSidebarOpen(!sidebarOpen)}
          sidebarOpen={sidebarOpen}
        />
        <main className="p-6">
          {children}
        </main>
      </div>
    </div>
  );
}

// app/(admin)/layout.tsx
import { AdminLayout } from '@/components/layouts/AdminLayout';
import { RoleGuard } from '@/components/guards/RoleGuard';
import { Role } from '@/types/auth';

export default function AdminRootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <RoleGuard allowedRoles={[Role.ADMIN]}>
      <AdminLayout>{children}</AdminLayout>
    </RoleGuard>
  );
}
```

## Testing

- [ ] Layout renderiza correctamente
- [ ] Sidebar colapsa y expande
- [ ] Contenido se ajusta al cambio de sidebar
