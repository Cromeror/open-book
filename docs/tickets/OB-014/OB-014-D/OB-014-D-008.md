# OB-014-D-008: Scaffold modulo Copropiedades y Apartamentos

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-014 - Configuracion de Vistas por Permisos y Modulos |
| Story | OB-014-D - Scaffolding de modulos con permisos |
| Status | done |
| Priority | medium |
| Created | 2026-01-06 |
| Updated | 2026-01-06 |
| Labels | task, frontend, scaffolding, copropiedades, apartamentos |
| Depends on | OB-014-C |
| Implementa | OB-003 (estructura base) |

## Descripcion

Crear la estructura de archivos para los modulos de Copropiedades y Apartamentos con validacion de permisos configurada. Este scaffold sera el punto de partida para implementar OB-003.

## Estructura de Archivos

```
apps/web/src/app/(dashboard)/copropiedades/
├── page.tsx                    # Lista de copropiedades
├── nueva/
│   └── page.tsx                # Crear copropiedad (SuperAdmin)
├── [id]/
│   ├── page.tsx                # Detalle de copropiedad
│   ├── editar/
│   │   └── page.tsx            # Editar copropiedad
│   └── apartamentos/
│       └── page.tsx            # Apartamentos de esta copropiedad
└── _components/
    └── .gitkeep

apps/web/src/app/(dashboard)/apartamentos/
├── page.tsx                    # Lista de apartamentos
├── nuevo/
│   └── page.tsx                # Crear apartamento
├── [id]/
│   ├── page.tsx                # Detalle del apartamento
│   ├── editar/
│   │   └── page.tsx            # Editar apartamento
│   └── residentes/
│       └── page.tsx            # Residentes asignados
└── _components/
    └── .gitkeep
```

## Permisos por Pagina

### Copropiedades
| Pagina | Guard | Permiso |
|--------|-------|---------|
| /copropiedades | requireModule | copropiedades |
| /copropiedades/nueva | requireSuperAdmin | - |
| /copropiedades/[id] | requirePermission | copropiedades:read |
| /copropiedades/[id]/editar | requirePermission | copropiedades:update |
| /copropiedades/[id]/apartamentos | requirePermission | copropiedades:read |

### Apartamentos
| Pagina | Guard | Permiso |
|--------|-------|---------|
| /apartamentos | requireModule | apartamentos |
| /apartamentos/nuevo | requirePermission | apartamentos:create |
| /apartamentos/[id] | requirePermission | apartamentos:read |
| /apartamentos/[id]/editar | requirePermission | apartamentos:update |
| /apartamentos/[id]/residentes | requirePermission | apartamentos:manage |

## Criterios de Aceptacion

- [ ] Estructura de carpetas creada para ambos modulos
- [ ] Crear copropiedad solo para SuperAdmin
- [ ] Apartamentos vinculados a copropiedades
- [ ] Build pasa sin errores

## Referencia de Implementacion

La logica de negocio se implementara en **OB-003: Gestion de Copropiedades y Apartamentos**:
- CRUD de copropiedades (SuperAdmin)
- CRUD de apartamentos
- Asignacion de residentes a apartamentos
- Soporte para torres/bloques opcionales
