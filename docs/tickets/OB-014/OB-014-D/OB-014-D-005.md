# OB-014-D-005: Scaffold modulo PQR

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-014 - Configuracion de Vistas por Permisos y Modulos |
| Story | OB-014-D - Scaffolding de modulos con permisos |
| Status | done |
| Priority | high |
| Created | 2026-01-06 |
| Updated | 2026-01-06 |
| Labels | task, frontend, scaffolding, pqr |
| Depends on | OB-014-C |
| Implementa | OB-010 (estructura base) |

## Descripcion

Crear la estructura de archivos para el modulo de PQR (Peticiones, Quejas, Reclamos) con validacion de permisos configurada. Este scaffold sera el punto de partida para implementar OB-010.

**NOTA**: Los cambios de visibilidad (publico/privado) se tramitan via PQR.

## Estructura de Archivos

```
apps/web/src/app/(dashboard)/pqr/
├── page.tsx                    # Mis PQR
├── nuevo/
│   └── page.tsx                # Crear nueva solicitud
├── gestionar/
│   └── page.tsx                # Panel de gestion (admin)
├── [numero]/
│   ├── page.tsx                # Detalle del PQR
│   └── responder/
│       └── page.tsx            # Responder PQR (admin)
└── _components/
    └── .gitkeep
```

## Permisos por Pagina

| Pagina | Guard | Permiso |
|--------|-------|---------|
| /pqr | requireModule | pqr |
| /pqr/nuevo | requirePermission | pqr:create |
| /pqr/gestionar | requirePermission | pqr:manage |
| /pqr/[numero] | requirePermission | pqr:read |
| /pqr/[numero]/responder | requirePermission | pqr:manage |

## Criterios de Aceptacion

- [ ] Estructura de carpetas creada
- [ ] Cada pagina verifica permisos correctamente
- [ ] Placeholder indica epic de implementacion (OB-010)
- [ ] Build pasa sin errores

## Referencia de Implementacion

La logica de negocio se implementara en **OB-010: Sistema de PQR**:
- Tipos: Peticion, Queja, Reclamo
- Radicacion automatica con numero unico
- Estados: Recibido, En Tramite, Respondido, Cerrado
- Tiempos de respuesta por tipo
- Integracion con cambios de visibilidad
