# OB-008-A-002: Calcular metricas por actividad

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-008 - Calculo y Visualizacion de Avance |
| Story | OB-008-A - Motor de calculo de avance |
| Status | pending |
| Priority | medium |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, calculo, actividad |
| Depends on | OB-008-A-001 |
| Assigned | unassigned |

## Descripcion

Implementar calculo de metricas a nivel de actividad individual, complementando el calculo a nivel de objetivo.

## Contexto Tecnico

### Archivos afectados
- `src/services/calculation.service.ts`

## Criterios de Aceptacion

- [ ] calculateActivityProgress(activityId) implementado
- [ ] Metricas: recaudado vs meta de actividad (si existe)
- [ ] Cantidad de aportes
- [ ] Cantidad de apartamentos contribuyentes

## Notas de Implementacion

```typescript
// Estructura del progreso de una actividad de recaudo
interface ActivityProgress {
  activityId: string;
  name: string;
  targetAmount: Decimal | null;
  collectedAmount: Decimal;
  progressPercentage: number | null; // null si no hay meta
  contributionCount: number;
  contributingApartments: number;
}
```

## Testing

- [ ] Actividad sin meta muestra solo recaudado
- [ ] Actividad con meta muestra porcentaje
- [ ] Cuenta correcta de apartamentos unicos
