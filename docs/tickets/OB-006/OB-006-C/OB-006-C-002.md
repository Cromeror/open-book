# OB-006-C-002: Mostrar detalle de compromiso con aportes

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-006 - Compromisos de Aporte |
| Story | OB-006-C - Visualizacion de compromisos para residentes |
| Status | pending |
| Priority | medium |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, api, detalle |
| Depends on | OB-006-C-001 |
| Assigned | unassigned |

## Descripcion

Crear endpoint de detalle de compromiso que muestre el historial completo de aportes asociados al compromiso del residente.

## Contexto Tecnico

### Archivos afectados
- `src/api/routes/residentes.routes.ts`
- `src/api/controllers/residentes.controller.ts`
- `src/services/compromiso.service.ts`

### Enfoque tecnico
Detalle enriquecido con lista de aportes ordenados cronologicamente.

## Criterios de Aceptacion

- [ ] GET /api/mis-compromisos/:id implementado
- [ ] Verifica que el compromiso pertenece al apartamento
- [ ] Muestra historial de aportes asociados
- [ ] Muestra progreso visual (barras, porcentaje)
- [ ] Incluye informacion completa de la actividad

## Notas de Implementacion

Endpoint:
```
GET /api/mis-compromisos/:id
Authorization: Bearer <token-residente>
```

Response:
```json
{
  "id": "uuid",
  "actividad": {
    "id": "uuid",
    "nombre": "Rifa electrodomesticos",
    "tipo": "RIFA",
    "descripcion": "...",
    "objetivo": {
      "id": "uuid",
      "nombre": "Reparacion ascensores"
    }
  },
  "montoComprometido": "50000.00",
  "observaciones": "Compromiso de 5 boletas",
  "estado": {
    "estado": "PARCIAL",
    "totalAportado": "20000.00",
    "montoPendiente": "30000.00",
    "porcentaje": 40
  },
  "aportes": [
    {
      "id": "uuid",
      "monto": "10000.00",
      "fecha": "2025-02-15T10:00:00Z",
      "medioPago": "EFECTIVO",
      "estado": "CONFIRMADO"
    },
    {
      "id": "uuid",
      "monto": "10000.00",
      "fecha": "2025-03-01T10:00:00Z",
      "medioPago": "TRANSFERENCIA",
      "estado": "CONFIRMADO"
    }
  ],
  "createdAt": "2025-02-01T00:00:00Z"
}
```

## Testing

- [ ] Detalle incluye todos los aportes
- [ ] Compromiso de otro apartamento retorna 404
- [ ] Estado calculado es correcto
- [ ] Aportes ordenados cronologicamente
