# OB-006-B-002: Crear dashboard de seguimiento de compromisos

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-006 - Compromisos de Aporte |
| Story | OB-006-B - Estados y seguimiento de compromisos |
| Status | pending |
| Priority | medium |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, api, dashboard, seguimiento |
| Depends on | OB-006-B-001 |
| Assigned | unassigned |

## Descripcion

Crear endpoint de dashboard que muestre resumen de compromisos por estado, permitiendo a administradores ver rapidamente el panorama de cumplimiento.

## Contexto Tecnico

### Archivos afectados
- `src/api/routes/dashboard.routes.ts`
- `src/api/controllers/dashboard.controller.ts`
- `src/services/dashboard.service.ts`

### Enfoque tecnico
Endpoint agregado que calcula estadisticas de compromisos por actividad u objetivo.

## Criterios de Aceptacion

- [ ] GET /api/.../dashboard/pledges implementado
- [ ] Resumen por estado (pendiente, parcial, cumplido)
- [ ] Totales en montos (comprometido, aportado, pendiente)
- [ ] Filtrable por actividad u objetivo
- [ ] Solo accesible por administradores

## Notas de Implementacion

Endpoint:
```
GET /api/condominiums/:condoId/dashboard/pledges?activityId=uuid
```

Response:
```json
{
  "filter": {
    "activity": {
      "id": "uuid",
      "name": "Rifa electrodomesticos"
    }
  },
  "summary": {
    "totalPledges": 100,
    "byStatus": {
      "PENDING": 25,
      "PARTIAL": 35,
      "FULFILLED": 40
    },
    "amounts": {
      "totalPledged": "10000000.00",
      "totalContributed": "6500000.00",
      "totalPending": "3500000.00",
      "fulfillmentPercentage": 65.0
    }
  },
  "recentActivity": [
    {
      "apartment": "101 - Tower A",
      "action": "Aporte registrado",
      "amount": "50000.00",
      "date": "2025-01-20T10:00:00Z"
    }
  ]
}
```

## Testing

- [ ] Dashboard retorna estadisticas correctas
- [ ] Filtros funcionan correctamente
- [ ] Solo admins tienen acceso
- [ ] Performance aceptable con muchos registros
