# OB-001-C-003: Crear utilidades de testing y factories

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-001 - Configuracion e Infraestructura del Proyecto |
| Story | OB-001-C - Configuracion de testing y CI/CD |
| Status | done |
| Priority | medium |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, testing, factories |
| Depends on | OB-001-C-002 |
| Assigned | unassigned |

## Descripcion

Crear utilidades y factories para facilitar la creacion de datos de prueba. Las factories permiten generar entidades con datos realistas y consistentes para los tests.

## Contexto Tecnico

### Archivos afectados
- `tests/factories/` (directorio de factories)
- `tests/factories/index.ts`
- `tests/helpers/` (utilidades de testing)

### Enfoque tecnico
Usar patron factory para crear entidades de prueba. Cada factory permite crear una entidad con valores por defecto que pueden ser sobrescritos.

## Criterios de Aceptacion

- [x] Estructura de factories creada
- [x] Factory userFactory con opciones y traits
- [x] Helpers para autenticacion en tests (generateTestAccessToken, authHeader)
- [x] Helpers para base de datos (resetDatabase, getTestDataSource)
- [x] Factories documentadas con JSDoc y ejemplos

## Notas de Implementacion

- Factories a crear inicialmente:
  - `userFactory` - crear usuarios de prueba
  - `copropiedadFactory` - crear copropiedades
  - `apartamentoFactory` - crear apartamentos
- Usar faker.js para datos realistas
- Factories deben soportar traits (admin, residente, etc.)
- Crear helper `authenticatedRequest()` para tests de API

## Testing

- [ ] Las factories crean entidades validas
- [ ] Los valores por defecto pueden sobrescribirse
- [ ] Las entidades creadas pasan validacion
