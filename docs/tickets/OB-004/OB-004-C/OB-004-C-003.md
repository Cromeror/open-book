# OB-004-C-003: Listar objetivos historicos finalizados

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-004 - Objetivos de Recaudo |
| Story | OB-004-C - Visualizacion de objetivos para residentes |
| Status | pending |
| Priority | low |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, api, historico |
| Depends on | OB-004-C-001 |
| Assigned | unassigned |

## Descripcion

Implementar vista de objetivos historicos (finalizados o cancelados) para que los residentes puedan consultar el historial de recaudos de la copropiedad.

## Contexto Tecnico

### Archivos afectados
- `src/api/routes/residentes.routes.ts`
- `src/api/controllers/residentes.controller.ts`
- `src/services/objetivo.service.ts`

### Enfoque tecnico
Endpoint separado o filtro para objetivos no activos. Incluir resultado final de cada objetivo.

## Criterios de Aceptacion

- [ ] GET /api/mis-objetivos/historico implementado
- [ ] Retorna objetivos FINALIZADOS y CANCELADOS
- [ ] Ordenados por fecha de finalizacion descendente
- [ ] Incluye resultado final (meta alcanzada o no)
- [ ] Paginacion para historicos extensos

## Notas de Implementacion

Endpoint:
```
GET /api/mis-objetivos/historico?page=1&limit=10
```

Response:
```json
{
  "data": [
    {
      "id": "uuid",
      "nombre": "Pintura fachada 2024",
      "montoObjetivo": "8000000.00",
      "estado": "FINALIZADO",
      "resultado": {
        "totalRecaudado": "8500000.00",
        "porcentajeAlcanzado": 106.25,
        "metaAlcanzada": true
      },
      "fechaInicio": "2024-01-15",
      "fechaFin": "2024-06-30",
      "fechaFinalizacion": "2024-06-25"
    }
  ],
  "pagination": {
    "total": 15,
    "page": 1,
    "limit": 10
  }
}
```

## Testing

- [ ] Solo retorna FINALIZADOS y CANCELADOS
- [ ] Ordenamiento por fecha es correcto
- [ ] Resultado final es preciso
- [ ] Paginacion funciona
