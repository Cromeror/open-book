# OB-004-A-002: Implementar CRUD de objetivos

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-004 - Objetivos de Recaudo |
| Story | OB-004-A - Modelo y CRUD de objetivos |
| Status | pending |
| Priority | critical |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, api, crud, objetivo |
| Depends on | OB-004-A-001 |
| Assigned | unassigned |

## Descripcion

Implementar endpoints REST para el CRUD de objetivos de recaudo, anidados bajo la copropiedad correspondiente.

## Contexto Tecnico

### Archivos afectados
- `src/api/routes/objetivos.routes.ts`
- `src/api/controllers/objetivos.controller.ts`
- `src/services/objetivo.service.ts`
- `src/api/validators/objetivo.validator.ts`

### Enfoque tecnico
Endpoints protegidos por rol ADMIN. Los residentes tienen acceso de solo lectura.

## Criterios de Aceptacion

- [ ] POST /api/copropiedades/:id/objetivos - Crear
- [ ] GET /api/copropiedades/:id/objetivos - Listar
- [ ] GET /api/copropiedades/:id/objetivos/:id - Obtener
- [ ] PATCH /api/copropiedades/:id/objetivos/:id - Actualizar
- [ ] DELETE /api/copropiedades/:id/objetivos/:id - Soft delete
- [ ] Crear/editar/eliminar solo para admins
- [ ] Listar/obtener disponible para residentes

## Notas de Implementacion

Crear objetivo:
```
POST /api/copropiedades/:copId/objetivos
Body: {
  "nombre": "Reparacion de ascensores",
  "descripcion": "Mantenimiento preventivo de ascensores de todas las torres",
  "montoObjetivo": 15000000,
  "fechaInicio": "2025-02-01",
  "fechaFin": "2025-06-30"
}
```

Response (201):
```json
{
  "id": "uuid",
  "nombre": "Reparacion de ascensores",
  "montoObjetivo": "15000000.00",
  "fechaInicio": "2025-02-01T00:00:00Z",
  "fechaFin": "2025-06-30T00:00:00Z",
  "estado": "ACTIVO",
  "createdAt": "2025-01-15T00:00:00Z"
}
```

## Testing

- [ ] Admin puede crear objetivo
- [ ] Residente no puede crear (403)
- [ ] Residente puede ver objetivos
- [ ] Validacion de datos funciona
