# OB-002-A-003: Validar datos de registro

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-002 - Gestion de Usuarios y Autenticacion |
| Story | OB-002-A - Modelo de usuario y registro |
| Status | pending |
| Priority | high |
| Created | 2025-12-31 |
| Updated | 2025-12-31 |
| Labels | task, validacion, seguridad |
| Depends on | OB-002-A-002 |
| Assigned | unassigned |

## Descripcion

Implementar validacion robusta de los datos de registro usando una libreria de validacion (zod). La validacion debe verificar formato de email, fortaleza de contrasena, y campos requeridos.

## Contexto Tecnico

### Archivos afectados
- `src/api/validators/auth.validator.ts`
- `src/api/middleware/validate.middleware.ts`
- `src/api/controllers/auth.controller.ts`

### Enfoque tecnico
Usar zod para definir esquemas de validacion. Crear middleware que valide el body antes de llegar al controller.

## Criterios de Aceptacion

- [ ] Esquema de validacion creado con zod
- [ ] Email debe ser formato valido
- [ ] Contrasena minimo 8 caracteres, 1 mayuscula, 1 numero
- [ ] firstName y lastName requeridos, minimo 2 caracteres
- [ ] phone opcional pero con formato valido si se provee
- [ ] Mensajes de error claros y en espanol

## Notas de Implementacion

Esquema de validacion:
```typescript
const registerSchema = z.object({
  email: z.string().email('Email invalido'),
  password: z.string()
    .min(8, 'Minimo 8 caracteres')
    .regex(/[A-Z]/, 'Debe contener al menos una mayuscula')
    .regex(/[0-9]/, 'Debe contener al menos un numero'),
  firstName: z.string().min(2, 'Minimo 2 caracteres'),
  lastName: z.string().min(2, 'Minimo 2 caracteres'),
  phone: z.string().optional(),
  publicAccountConsent: z.boolean()
});
```

## Testing

- [ ] Email invalido retorna error descriptivo
- [ ] Contrasena debil retorna error descriptivo
- [ ] Campos vacios retornan errores apropiados
- [ ] Datos validos pasan la validacion
