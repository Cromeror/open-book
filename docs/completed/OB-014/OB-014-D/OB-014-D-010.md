# OB-014-D-010: Scaffold modulo Auditoria

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-014 - Configuracion de Vistas por Permisos y Modulos |
| Story | OB-014-D - Scaffolding de modulos con permisos |
| Status | done |
| Priority | low |
| Created | 2026-01-06 |
| Updated | 2026-01-06 |
| Labels | task, frontend, scaffolding, auditoria |
| Depends on | OB-014-C |
| Implementa | OB-012 (estructura base) |

## Descripcion

Crear la estructura de archivos para el modulo de Auditoria con validacion de permisos configurada. Este scaffold sera el punto de partida para implementar OB-012.

**IMPORTANTE**: Los logs de auditoria son inmutables - solo lectura, nunca modificacion.

## Estructura de Archivos

```
apps/web/src/app/(dashboard)/audit/
├── page.tsx                    # Listado de operaciones
├── [resource]/
│   └── [id]/
│       └── page.tsx            # Historial de un recurso especifico
└── _components/
    └── .gitkeep
```

## Permisos por Pagina

| Pagina | Guard | Permiso |
|--------|-------|---------|
| /audit | requireModule | audit |
| /audit/[resource]/[id] | requirePermission | audit:read |

**NOTA**: El modulo de auditoria generalmente es solo para SuperAdmin o usuarios con permisos especiales de compliance.

## Criterios de Aceptacion

- [ ] Estructura de carpetas creada
- [ ] Cada pagina verifica permisos correctamente
- [ ] Placeholder indica que es solo lectura
- [ ] Build pasa sin errores

## Referencia de Implementacion

La logica de negocio se implementara en **OB-012: Auditoria y Trazabilidad**:

### Operaciones Registradas Automaticamente
- CRUD en todas las entidades
- Login/logout y accesos fallidos
- Cambios de permisos y visibilidad
- Anulaciones de aportes
- Operaciones sensibles

### Campos por Registro
- Timestamp
- Usuario que realizo la accion
- Tipo de operacion (CREATE, UPDATE, DELETE, etc.)
- Recurso afectado (tipo + id)
- Valores antes/despues
- IP y user agent

### Caracteristicas
- Inmutable (logs no se modifican ni eliminan)
- Filtrable por tipo, usuario, periodo
- Exportable para auditorias externas
