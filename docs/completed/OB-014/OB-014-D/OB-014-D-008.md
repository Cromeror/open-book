# OB-014-D-008: Scaffold modulo Copropiedades y Apartamentos

## Metadata

| Campo | Valor |
|-------|-------|
| Epic | OB-014 - Configuracion de Vistas por Permisos y Modulos |
| Story | OB-014-D - Scaffolding de modulos con permisos |
| Status | done |
| Priority | medium |
| Created | 2026-01-06 |
| Updated | 2026-01-06 |
| Labels | task, frontend, scaffolding, copropiedades, apartamentos |
| Depends on | OB-014-C |
| Implementa | OB-003 (estructura base) |

## Descripcion

Crear la estructura de archivos para los modulos de Copropiedades y Apartamentos con validacion de permisos configurada. Este scaffold sera el punto de partida para implementar OB-003.

## Estructura de Archivos

```
apps/web/src/app/(dashboard)/properties/
├── page.tsx                    # Lista de copropiedades
├── new/
│   └── page.tsx                # Crear copropiedad (SuperAdmin)
├── [id]/
│   ├── page.tsx                # Detalle de copropiedad
│   ├── edit/
│   │   └── page.tsx            # Editar copropiedad
│   └── apartments/
│       └── page.tsx            # Apartamentos de esta copropiedad
└── _components/
    └── .gitkeep

apps/web/src/app/(dashboard)/apartments/
├── page.tsx                    # Lista de apartamentos
├── new/
│   └── page.tsx                # Crear apartamento
├── [id]/
│   ├── page.tsx                # Detalle del apartamento
│   ├── edit/
│   │   └── page.tsx            # Editar apartamento
│   └── residents/
│       └── page.tsx            # Residentes asignados
└── _components/
    └── .gitkeep
```

## Permisos por Pagina

### Copropiedades
| Pagina | Guard | Permiso |
|--------|-------|---------|
| /properties | requireModule | properties |
| /properties/new | requireSuperAdmin | - |
| /properties/[id] | requirePermission | properties:read |
| /properties/[id]/edit | requirePermission | properties:update |
| /properties/[id]/apartments | requirePermission | properties:read |

### Apartamentos
| Pagina | Guard | Permiso |
|--------|-------|---------|
| /apartments | requireModule | apartments |
| /apartments/new | requirePermission | apartments:create |
| /apartments/[id] | requirePermission | apartments:read |
| /apartments/[id]/edit | requirePermission | apartments:update |
| /apartments/[id]/residents | requirePermission | apartments:manage |

## Criterios de Aceptacion

- [ ] Estructura de carpetas creada para ambos modulos
- [ ] Crear copropiedad solo para SuperAdmin
- [ ] Apartamentos vinculados a copropiedades
- [ ] Build pasa sin errores

## Referencia de Implementacion

La logica de negocio se implementara en **OB-003: Gestion de Copropiedades y Apartamentos**:
- CRUD de copropiedades (SuperAdmin)
- CRUD de apartamentos
- Asignacion de residentes a apartamentos
- Soporte para torres/bloques opcionales
